import{h as y,d as x,f as _,n as h,i as K,_ as k,g as v,b as d,j as w,F as $,k as B,a as r,l as V,r as n,w as c,e as g,o as f,m as M,t as I,c as N}from"./index-C-dP7ZW1.js";class S{axios;endpoint="Chatbot/ask-KConsultores";constructor(e){this.axios=e||y}async sendMessage(e){return(await y.post(this.endpoint,{ask:e})).data.reply}}const T=x({name:"ChatbotKConsultores",setup(){const t=_(""),e=_([{from:"bot",text:"Â¡Hola! Soy tu asesor virtual de KConsultores, Â¿cÃ³mo puedo ayudarte?"}]),i=_(!1),b=new S(K),u=_(null);function C(s){let o=0;for(let a=0;a<=s;a++)e.value[a].from==="bot"&&o++;return o%2}function m(s){let o=0;for(let a=0;a<=s;a++)e.value[a].from==="user"&&o++;return o%2}async function p(){if(t.value.trim()){const s=t.value;e.value.push({from:"user",text:s}),t.value="",await h(),l(),i.value=!0;try{const o=await b.sendMessage(s);e.value.push({from:"bot",text:o}),await h(),l()}catch{e.value.push({from:"bot",text:"OcurriÃ³ un error al contactar al servicio."}),await h(),l()}finally{i.value=!1}}}function l(){u.value&&(u.value.scrollTop=u.value.scrollHeight)}return{input:t,sendMessage:p,messages:e,loading:i,botColorIndex:C,userColorIndex:m,chatBodyRef:u}}}),E={class:"chatbot-kconsultores-container"},j={class:"chat-body",ref:"chatBodyRef"},A={key:0,class:"message k-message",style:{opacity:"0.7"}},D={class:"chat-footer"};function F(t,e,i,b,u,C){const m=n("v-text-field"),p=n("v-icon"),l=n("v-btn");return f(),v("div",E,[e[2]||(e[2]=d("div",{class:"chat-header"},[d("span",{class:"bot-emoji","aria-label":"bot"},"ðŸ¤–"),d("span",{class:"font-weight-bold ms-2"},"Chatbot KConsultores")],-1)),d("div",j,[(f(!0),v($,null,B(t.messages,(s,o)=>(f(),v("div",{key:o,class:M(["message",s.from==="bot"?t.botColorIndex(o)%2===0?"k-message":"k-message-alt":t.userColorIndex(o)%2===0?"user-message":"user-message-alt"])},I(s.text),3))),128)),t.loading?(f(),v("div",A,"Escribiendo...")):w("",!0)],512),d("div",D,[r(m,{modelValue:t.input,"onUpdate:modelValue":e[0]||(e[0]=s=>t.input=s),label:"Escribe tu consulta...",variant:"solo","hide-details":"",density:"compact",class:"chat-input",onKeyup:V(t.sendMessage,["enter"])},null,8,["modelValue","onKeyup"]),r(l,{color:"secondary",onClick:t.sendMessage,icon:""},{default:c(()=>[r(p,null,{default:c(()=>e[1]||(e[1]=[g("mdi-send")])),_:1,__:[1]})]),_:1},8,["onClick"])])])}const H=k(T,[["render",F],["__scopeId","data-v-7caf13a7"]]),R=x({components:{ChatbotKConsultores:H}});function q(t,e,i,b,u,C){const m=n("v-icon"),p=n("v-card-title"),l=n("ChatbotKConsultores"),s=n("v-card-text"),o=n("v-card"),a=n("v-container");return f(),N(a,{class:"py-8"},{default:c(()=>[r(o,{class:"mx-auto w-100 elevation-4 pa-8 rounded-lg",style:{background:"rgba(245,246,250,0.97)","max-width":"700px"}},{default:c(()=>[r(p,{class:"font-weight-bold text-h5 mb-2",style:{color:"#8e24aa"}},{default:c(()=>[r(m,{class:"me-2",color:"#8e24aa"},{default:c(()=>e[0]||(e[0]=[g("mdi-account-tie")])),_:1,__:[0]}),e[1]||(e[1]=g(" Chatbot KConsultores "))]),_:1,__:[1]}),r(s,null,{default:c(()=>[e[2]||(e[2]=d("div",{class:"mb-4"},"AquÃ­ puedes interactuar con el asesor virtual de KConsultores y ver informaciÃ³n detallada sobre su servicio.",-1)),r(l)]),_:1,__:[2]})]),_:1})]),_:1})}const L=k(R,[["render",q]]);export{L as default};
